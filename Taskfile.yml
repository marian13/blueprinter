version: '3'

##
# IMPORTANT: All tasks listed in this file should be executed from the root folder.
# - https://taskfile.dev/usage/#task-directory
#
tasks:
  ##
  # NOTE: Dev only command.
  #
  editor:open:
    cmds:
      - code .

  ##
  # NOTE: Dev only command.
  # NOTE: macOS specific command.
  #
  github:open:
    cmds:
      - open -na "Google Chrome" --args --new-window --incognito "https://github.com/marian13/blueprinter"

  server:
    cmds:
      - bundle exec rails server --port {{.RAILS_PORT}}
    requires:
      vars: [RAILS_PORT]

  server:open:
    cmds:
      - open -na "Google Chrome" --args --new-window --incognito "http://localhost:{{.RAILS_PORT}}"
      - task: server
    requires:
      vars: [RAILS_PORT]

  ##
  # NOTE: Dev only command.
  #
  tmuxinator:start:
    cmds:
      - tmuxinator start blueprinter --project-config=.dev/.tmuxinator.yml
